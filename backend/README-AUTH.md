# راهنمای سیستم احراز هویت

این سند نحوه استفاده از سیستم احراز هویت اضافه شده به پروژه را توضیح می‌دهد.

## اطلاعات کاربر ادمین

برای ورود به سیستم از اطلاعات زیر استفاده کنید:

- نام کاربری: `adminsoal`
- رمز عبور: `@mir741@mir`

## نحوه استفاده از API ها

### ورود به سیستم

```
POST /api/login
```

بدنه درخواست:

```json
{
  "username": "adminsoal",
  "password": "@mir741@mir"
}
```

پاسخ موفق:

```json
{
  "success": true,
  "message": "ورود موفقیت‌آمیز"
}
```

### تغییر رمز عبور

```
POST /api/change-password
```

بدنه درخواست:

```json
{
  "currentPassword": "@mir741@mir",
  "newPassword": "رمز_عبور_جدید"
}
```

پاسخ موفق:

```json
{
  "success": true,
  "message": "رمز عبور با موفقیت تغییر یافت"
}
```

## دسترسی به API های محافظت شده

برای دسترسی به API های محافظت شده، باید هدر `Authorization` را به درخواست‌های خود اضافه کنید:

```
Authorization: Basic YWRtaW5zb2FsOkBtaXI3NDFAbWly
```

این هدر از ترکیب نام کاربری و رمز عبور با فرمت `username:password` و کدگذاری Base64 ایجاد می‌شود.

### مثال با cURL

```bash
curl -X GET \
  http://localhost:3333/api/published-questions \
  -H 'Authorization: Basic YWRtaW5zb2FsOkBtaXI3NDFAbWly'
```

## فایل ذخیره رمز عبور

رمز عبور در فایل `password.json` در ریشه پروژه ذخیره می‌شود. این فایل به صورت خودکار در اولین ورود به سیستم ایجاد می‌شود و می‌توانید با استفاده از API تغییر رمز عبور، آن را به‌روزرسانی کنید.

## نکات امنیتی

1. تمام API ها (به جز API ورود) با میدل‌ور احراز هویت محافظت می‌شوند.
2. برای افزایش امنیت، می‌توانید از HTTPS استفاده کنید.
3. فایل رمز عبور را در مکانی امن نگهداری کنید و به آن دسترسی محدود اعمال کنید.
